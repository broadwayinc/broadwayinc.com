<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../style.css">
<script src="https://cdn.jsdelivr.net/npm/skapi-js@latest/dist/skapi.js"></script>
<script>
    const skapi = new Skapi("ap220VneiKiyIzgLeFEc", "f8e16604-69e4-451c-9d90-4410f801c006");
</script>
<div>
    <h1 style='margin:0;line-height: 0;' id="loading"></h1>
    <div id="menu" hidden>
        <h2 style="margin: 0">Skapi Admin Page</h2>
        <ul>
            <li>
                <a href="/admin/info.html">Skapi Information</a>
            </li>
            <li>
                <a href="/admin/users.html">User List</a>
            </li>
            <li>
                <a href="/admin/deploy.html">Deploy Website</a>
            </li>
        </ul>
    </div>
</div>
<script>
    // loading...
    let intervalId;
    let text_array = [".", "..", "...", ""];
    let loading_text = document.getElementById("loading");
    let index = 0;

    intervalId = setInterval(() => {
        loading_text.textContent = text_array[index];
        index = (index + 1) % text_array.length;
    }, 1000);


    skapi.getProfile().then(u => {
        if (!u) {
            window.location.href = "/admin/login.html";
        }
        clearInterval(intervalId);
        document.getElementById("loading").hidden = true;
        document.getElementById("menu").hidden = false;
    })
</script>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 8px;
        box-sizing: border-box;
    }

    #menu {
        max-width: 1000px;
    }
</style>